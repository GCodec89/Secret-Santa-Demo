{% extends "base.html" %} {% block title %}Edit Event{% endblock %} {% block
content %}

<div class="container mt-4">
  <h2 class="mb-4">Edit Event</h2>

  <form method="POST">
    <!-- EVENT NAME -->
    <div class="mb-3">
      <label class="form-label">Event Name</label>
      <input
        type="text"
        name="name"
        class="form-control"
        value="{{ event.name }}"
        required
      />
    </div>

    <!-- YEAR -->
    <div class="mb-3">
      <label class="form-label">Year</label>
      <input
        type="number"
        name="year"
        class="form-control"
        value="{{ event.year }}"
        required
      />
    </div>

    <hr class="my-4" />

    <!-- PARTICIPANTS -->
    <h5 class="mb-3">Select Participants</h5>

    <div class="row">
      {% for user in users %}
      <div class="col-12 col-md-6">
        <div class="form-check mb-2">
          <input
            class="form-check-input"
            type="checkbox"
            name="participants"
            value="{{ user.id }}"
            id="user_{{ user.id }}"
            {%
            if
            user
            in
            event.participants
            %}checked{%
            endif
            %}
          />
          <label class="form-check-label" for="user_{{ user.id }}">
            {{ user.name }} ({{ user.email }})
          </label>
        </div>
      </div>
      {% endfor %}
    </div>

    <!-- BUTTONS -->
    <div class="mt-4 d-flex gap-2">
      <button type="submit" class="btn btn-success">Update Event</button>

      <a href="{{ url_for('admin.events') }}" class="btn btn-outline-secondary">
        Cancel
      </a>
    </div>
  </form>
</div>

{% endblock %}
